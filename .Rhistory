"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_)) %>%
count(activity_new)
fsc %>% count(beneficiary_type)
fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &
str_detect(activity_description, "IDP|idp|displace|Displace|Lifesaving|lifesaving|acute|Acute") |
beneficiary_type %in% c("Internally Displaced", "Rakhine stateless", "Returnees") ~
"food distributions (in kind/voucher/cash), lifesaving/crisis",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate/severe",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_)) %>%
# count(activity_new)
filter(activity_new %in% c("food distributions (in kind/voucher/cash), lifesaving/crisis",
"food distributions (in kind/voucher/cash), moderate/severe")) %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &
str_detect(activity_description, "IDP|idp|displace|Displace|Lifesaving|lifesaving|acute|Acute")  ~
"food distributions (in kind/voucher/cash), lifesaving/crisis",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate/severe",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_)) %>%
# count(activity_new)
filter(activity_new %in% c("food distributions (in kind/voucher/cash), lifesaving/crisis",
"food distributions (in kind/voucher/cash), moderate/severe")) %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &
str_detect(activity_description, "IDP|idp|displace|Displace|Lifesaving|lifesaving|acute|Acute") |
beneficiary_type %in% c("Internally Displaced") ~
"food distributions (in kind/voucher/cash), lifesaving/crisis",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate/severe",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_)) %>%
# count(activity_new)
filter(activity_new %in% c("food distributions (in kind/voucher/cash), lifesaving/crisis",
"food distributions (in kind/voucher/cash), moderate/severe")) %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &&
str_detect(activity_description, "IDP|idp|displace|Displace|Lifesaving|lifesaving|acute|Acute") |
beneficiary_type %in% c("Internally Displaced") ~
"food distributions (in kind/voucher/cash), lifesaving/crisis",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate/severe",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_)) %>%
# count(activity_new)
filter(activity_new %in% c("food distributions (in kind/voucher/cash), lifesaving/crisis",
"food distributions (in kind/voucher/cash), moderate/severe")) %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &
str_detect(activity_description, "IDP|idp|displace|Displace|Lifesaving|lifesaving|acute|Acute") ||
beneficiary_type %in% c("Internally Displaced") ~
"food distributions (in kind/voucher/cash), lifesaving/crisis",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate/severe",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_)) %>%
# count(activity_new)
filter(activity_new %in% c("food distributions (in kind/voucher/cash), lifesaving/crisis",
"food distributions (in kind/voucher/cash), moderate/severe")) %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &
str_detect(activity_description, "IDP|idp|displace|Displace|Lifesaving|lifesaving|acute|Acute") |
beneficiary_type %in% c("Internally Displaced") ~
"food distributions (in kind/voucher/cash), lifesaving/crisis",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate/severe",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_)) %>%
# count(activity_new)
filter(activity_new %in% c("food distributions (in kind/voucher/cash), lifesaving/crisis",
"food distributions (in kind/voucher/cash), moderate/severe")) %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc %>%  filter(activity_description == "In target IDP camps/locations, the basic food will be provided through provision of cash grants depending on access functioning of markets. In case of cash grants 12.500 MMK/month/person which is in line with the basked as advised by the cash working group in Yangon. The cash will be provided per person the direct distribution will be done involving the camp management but the partner remains responsible. Cash will be distributed in two tranches.")
fsc_act_new <- fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &
str_detect(activity_description, "IDP|idp|displace|Displace|Lifesaving|lifesaving|acute|Acute") |
beneficiary_type %in% c("Internally Displaced") ~
"food distributions (in kind/voucher/cash), lifesaving/crisis",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate/severe",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_))
fsc_act_new %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc_act_new %>%
group_by(activity_new, activity) %>%
summarise(beneficiaries = sum(beneficiaries))
fsc_act_new %>%
filter(activity_new == "food distributions (in kind/voucher/cash), lifesaving/crisis" &
activity == "Provide technical training") %>% pull(activity_description)
fsc_act_new %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc_act_new <- fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &
str_detect(activity_description, "IDP|idp|displace|Displace|Lifesaving|lifesaving|acute|Acute") ~
"food distributions (in kind/voucher/cash), lifesaving/crisis",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate/severe",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_))
fsc_act_new %>%
group_by(activity_new, activity) %>%
summarise(beneficiaries = sum(beneficiaries))
fsc_act_new %>%
filter(activity_new == "food distributions (in kind/voucher/cash), lifesaving/crisis") %>%
group_by(beneficiary_type) %>%
summarise(beneficiaries = sum(beneficiaries))
fsc_act_new %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc_act_new %>%
group_by(activity_new, activity) %>%
summarise(beneficiaries = sum(beneficiaries))
fsc_act_new %>%
group_by(activity_new) %>%
summarise(count = n(),
beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc_act_new %>%
filter(activity_new == "food distributions (in kind/voucher/cash), lifesaving/crisis") %>%
distinct(activity_description) %>% pull()
fsc_act_new <- fsc %>%
mutate(activity_new = case_when(str_detect(activity_description, "Local Chicken support") ~
"provision of livestock kits",
activity == "Cash for Work / Food for Assets" ~
"food/cash for work/assets",
str_detect(activity_description, "home|Home") &
!str_detect(activity_description, "training|Training|Training,") ~
"provision of kitchen garden kits",
activity == "Provide crops & vegetables kits" &
str_detect(activity_description, "pumps|till|drum|Tiller|Drum") ~
"provision of community infrastructure and equipment",
activity == "Provide crops & vegetables kits" ~ "provision of crop, vegetable and seed kits",
activity == "Provide fishery kits" ~
"provision of fishery kits",
activity == "Provide livestock kits" ~
"provision of livestock kits",
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets") &
str_detect(activity_description, "Lifesaving|lifesaving|acute|Acute") ~
"food distributions (in kind/voucher/cash), severe",
# what to do about MVC, malnourished children and PLW?
activity %in% c("Provide monthly cash-based transfers", "Provide monthly food baskets")  ~
"food distributions (in kind/voucher/cash), moderate",
activity == "Provide support for income generation" &
!str_detect(activity_description, "agriculture input|farming") ~
"income-generating activities and small grants",
activity  == "Provide support for income generation"  ~
"income-generating activities and small grants",
activity == "Provide technical training" &
str_detect(activity_description, "farm|Farm|FFS|pesticide|ferti|agri|Agri|gardening|Seed|seed|SSA") ~
"ffs and farmer training",
activity == "Provide technical training" ~
"vocational training",
activity_description %in% c("Provide Voucher Cards to buy agriculture inputs for their agricultural works",
"Cash for farming (Livestock and Agri)") ~
"provision of crop, vegetable and seed kits",
TRUE ~ NA_character_))
fsc_act_new %>%
filter(activity_new %in%
c("food distributions (in kind/voucher/cash), severe", "food distributions (in kind/voucher/cash), moderate")) %>%
group_by(activity_new) %>%
summarise(beneficiaries = sum(beneficiaries))
fsc_act_new %>%
filter(activity_new %in%
c("food distributions (in kind/voucher/cash), severe", "food distributions (in kind/voucher/cash), moderate")) %>%
group_by(activity_new) %>%
summarise(beneficiaries = sum(beneficiaries)) %>%
mutate(pc = beneficiaries / sum(beneficiaries))
fsc_act_new %>%
filter(activity_new == "provision of kitchen garden kits") %>%
distinct(activity_description) %>% pull()
fsc_act_new %>%
filter(activity_new == "provision of crop, vegetable and seed kits") %>%
distinct(activity_description) %>% pull()
fsc_act_new %>% filter(activity_description == "Unconditional Cash") %>% pull(activity)
fsc_act_new %>% filter(activity_description == "Unconditional Cash") %>% select(implementing_partners, activity) %>% distinct() %>% pull()
fsc_act_new %>% filter(activity_description == "Unconditional Cash") %>% select(implementing_partners, activity)  %>% pull()
fsc_act_new %>% filter(activity_description == "Unconditional Cash") %>% select(implementing_partners)  %>% pull()
fsc_act_new %>%
filter(activity_new == "provision of crop, vegetable and seed kits") %>%
distinct(activity_description) %>% pull()
fsc_act_new %>% filter(activity_description == "ECCD Garden support") %>% select(implementing_partners, activity)
fsc_act_new %>%
filter(activity_new == "provision of kitchen garden kits") %>%
distinct(activity_description) %>% pull()
fsc_act_new %>%
filter(activity_new == "income-generating activities and small grants") %>%
distinct(activity_description) %>% pull()
# recode as home garden kitchen garden kit
fsc_act_new %>% filter(activity_description == "Sewing Machine support for children/youth who completed vocational training") %>% select(implementing_partners, activity)
fsc_act_new %>%
filter(activity_new == "vocational training") %>%
distinct(activity_description) %>% pull()
fsc_act_new %>%
filter(activity_new == "ffs and farmer training") %>%
distinct(activity_description) %>% pull()
fsc_act_new %>%
filter(activity_new == "vocational training") %>%
distinct(activity_description) %>% pull()
fsc_act_new %>%
filter(activity_new == "vocational training" & !is.na(activity_description)) %>%
distinct(activity_description) %>% pull()
fsc_act_new %>%
distinct(activity_new) %>% pull()
fsc_act_new %>%
distinct(activity_new) %>% arrange(activity_new)
glimpse(locations)
locations %>%
rename(village_code = payam_code) %>%
mutate(location_type = recode(location_type, "payam" = "village"),
location = str_to_title(location)) %>%
left_join(read_excel("Myanmar PCodes Release_9.3_Jan2021_Countrywide(Villages_only).xlsx") %>%
select(admin4_pcode = VT_Pcode, vt_name = Village_Tract_Name_Eng, village_code = Village_Pcode) %>%
mutate(payam_code = as.character(payam_code)), by = "village_code") %>%
glimpse()
locations %>%
rename(village_code = payam_code) %>%
mutate(location_type = recode(location_type, "payam" = "village"),
location = str_to_title(location)) %>%
left_join(read_excel("Myanmar PCodes Release_9.3_Jan2021_Countrywide(Villages_only).xlsx") %>%
select(admin4_pcode = VT_Pcode, vt_name = Village_Tract_Name_Eng, village_code = Village_Pcode) %>%
mutate(village_code = as.character(village_code)), by = "village_code") %>%
glimpse()
locations %>% count(location_type
)
locations %>%
rename(village_code = payam_code) %>%
mutate(location_type = recode(location_type, "payam" = "village"),
location = str_to_title(location)) %>%
left_join(read_excel("Myanmar PCodes Release_9.3_Jan2021_Countrywide(Villages_only).xlsx") %>%
select(admin4_pcode = VT_Pcode, vt_name = Village_Tract_Name_Eng, village_code = Village_Pcode) %>%
mutate(village_code = as.character(village_code)), by = "village_code") %>%
select(state_name, admin1_pcode, township_name, admin3_pcode, vt_name, admin4_pcode, location_name = location,
location_pcode = location_code, village_code, camp_pcode) %>%
write_csv("locations.csv")
locations %>%
rename(village_code = payam_code) %>%
mutate(location_type = recode(location_type, "payam" = "village"),
location = str_to_title(location)) %>%
left_join(read_excel("Myanmar PCodes Release_9.3_Jan2021_Countrywide(Villages_only).xlsx") %>%
select(admin4_pcode = VT_Pcode, vt_name = Village_Tract_Name_Eng, village_code = Village_Pcode) %>%
mutate(village_code = as.character(village_code)), by = "village_code") %>%
select(state_name, admin1_pcode, township_name, admin3_pcode, vt_name, admin4_pcode, location_name = location,
location_pcode = location_code, village_code, camp_pcode) %>%
glimpse()
